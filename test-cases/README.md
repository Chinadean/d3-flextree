# Test cases

Tests are defined in tests.json.  

The format of the tests.json file is an array of objects, where each object defines
a test, as follows:

- name - the name of the test. This is also used as the basis of the name of the
  JSON file with the expected results. E.g. the expected results for "test01" are
  in *test01-expected.json*.
- description
- tree - the tree to use as input. Note that a given tree can be used in more than
  one test.
- sizing - one of:
    - default - no sizing option is given to the tree layout object, meaning that
      it will default to size([1, 1]).
    - size - use size([20, 45]) to define a fixed size for the
      entire resultant drawing.
    - node-size-fixed - use nodeSize([x_size, y_size]) to define a fixed size
      for all nodes
    - node-size-function - use the nodeSize(function) to specify a function that
      defines the (variable) node size. These tests will only be run against
      flextree. The function gets the node's size from its x_size and y_size
      attributes.
- gap - how the delta between nodes is defined
    - default - uses the default separation function, that returns "1" for
      siblings, or "2" otherwise.
    - "separation-1" - constant separation function that always returns 1.
    - "separation-custom" - returns 1 for sibs, 1.4 for first cousins (or
      nephew/uncle) and 2 otherwise
    - "spacing-0" - this will give constant spacing of 0, so that for the original 
      variable node-size examples, their expected results will be the same as
      before.
    - "spacing-custom" - simulate the default separation for variable node
      sizes: returns 0 for siblings, and the x_size of the root for non-sibs.


Here's some random information about the origins of some of the tests:

* tree-a - tree-e - are from random trees generated by the code
* tree-f - is a representation of a problem I was having with my implementation of
  "flextree". It works here.
* tree-g & tree-h - from Figure 6 of "Drawing Non-layered Tidy Trees in Linear Time".
  before-7.json is from the figure, and before-8.json is its mirror image,
  illustrating that the algorithm satisfies aesthetic 5.
* tree-i - a simple tree with fixed-sized nodes.

* tree-j - very simple tree to illustrate the difference betwee tree and flextree
* tree-k, tree-l, tree-m - more flextree test cases
* tree-n - from the "flare" database
* tree-o - random tree generated with no x_size or y_size information.


Combinations:

sizing              gap                 comments
------              ---                 --------
default             default
default             separation-1        test12
default             separation-custom
default             spacing-0
default             spacing-custom

size                default
size                separation-1        
size                separation-custom
size                spacing-0
size                spacing-custom

node-size-fixed     default
node-size-fixed     separation-1
node-size-fixed     separation-custom
node-size-fixed     spacing-0
node-size-fixed     spacing-custom

node-size-function  default             No, don't do this, and expect the tree not to have overlapping nodes
node-size-function  separation-1        No
node-size-function  separation-custom   No
node-size-function  spacing-0           Lots of tests use this
node-size-function  spacing-custom      test19




node-size-function  default  

